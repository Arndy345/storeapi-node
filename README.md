[![AltSchool Badge](https://img.shields.io/badge/-Engineering-6773E5?style=for-the-badge&logo=data:image/png;base64,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&logoColor=white&link=https://altschoolafrica.com/schools/engineering)](https://altschoolafrica.com/schools/engineering)

<h1 align="center">Welcome to store-api ðŸ‘‹</h1>
<p>
  <img alt="Version" src="https://img.shields.io/badge/version-1.0.0-blue.svg?cacheSeconds=2592000" />
  <a href="https://twitter.com/nonso_andy" target="_blank">
    <img alt="Twitter: nonso_andy" src="https://img.shields.io/twitter/follow/nonso_andy.svg?style=social" />
  </a>
</p>

> A mini store api that implements various search,filter and sorting methods.

## Built with

<div align="center">

![Javascript][javascript]
![Node.js][node]
![Express.js][express]
![MongoDB][mongodb]

</div>
## Clone this repo

```sh
git clone https://github.com/Arndy345/storeapi-node.git
```

## Install

```sh
npm install
```

## Usage

```sh
node app.js
```

- Route: `/api/v1/products/`
- Method: `POST`

- **Body**

````json
{
	 [
		{
			"featured": false,
			"rating": 5,
			"name": "albany sectional",
			"price": 109,
			"company": "liddy",

		},
		{
			"featured": true,
			"rating": 4,

			"name": "accent chair",
			"price": 25,
			"company": "marcos",

		},
		{
			"featured": false,
			"rating": 4.5,

			"name": "emperor bed",
			"price": 23,
			"company": "ikea",

		},
		{
			"featured": true,
			"rating": 4.9,

			"name": "albany table",
			"price": 309,
			"company": "liddy",

		}
	],

}
- **Response:**

200 Success

```json
{
	"products": [
		{
			"featured": false,
			"rating": 5,
			"createdAt": "2023-01-11T20:38:06.535Z",
			"_id": "63bf1e904d275725e8f706f8",
			"name": "albany sectional",
			"price": 109,
			"company": "liddy",
			"__v": 0
		},
		{
			"featured": true,
			"rating": 4,
			"createdAt": "2023-01-11T20:38:06.535Z",
			"_id": "63bf1e904d275725e8f706f7",
			"name": "accent chair",
			"price": 25,
			"company": "marcos",
			"__v": 0
		},
		{
			"featured": false,
			"rating": 4.5,
			"createdAt": "2023-01-18T23:15:53.223Z",
			"_id": "63c87f8572390c2d980854b4",
			"name": "emperor bed",
			"price": 23,
			"company": "ikea",
			"__v": 0
		},
		{
			"featured": true,
			"rating": 4.9,
			"createdAt": "2023-01-18T23:15:53.223Z",
			"_id": "63c87f8572390c2d980854b0",
			"name": "albany table",
			"price": 309,
			"company": "liddy",
			"__v": 0
		}
	],
	"totalProducts": 4
}
````

- Route: `/api/v1/products/:id`
- Method: `GET`

```
json
{
  "product":
	        {
            "featured": false,
            "rating": 5,
            "createdAt": "2023-01-11T20:38:06.535Z",
            "_id": "63bf1e904d275725e8f706f8",
            "name": "albany sectional",
            "price": 109,
            "company": "liddy",
            "__v": 0
          },
  }
```

- Route: `/api/v1/products/`
- Method: `GET`
- **Response:**

200 Success

```json
{
	"products": [
		{
			"featured": false,
			"rating": 5,
			"createdAt": "2023-01-11T20:38:06.535Z",
			"_id": "63bf1e904d275725e8f706f8",
			"name": "albany sectional",
			"price": 109,
			"company": "liddy",
			"__v": 0
		},
		{
			"featured": false,
			"rating": 4,
			"createdAt": "2023-01-11T20:38:06.535Z",
			"_id": "63bf1e904d275725e8f706f7",
			"name": "accent chair",
			"price": 25,
			"company": "marcos",
			"__v": 0
		},
		{
			"featured": false,
			"rating": 4.5,
			"createdAt": "2023-01-18T23:15:53.223Z",
			"_id": "63c87f8572390c2d980854b4",
			"name": "emperor bed",
			"price": 23,
			"company": "ikea",
			"__v": 0
		},
		{
			"featured": false,
			"rating": 4.9,
			"createdAt": "2023-01-18T23:15:53.223Z",
			"_id": "63c87f8572390c2d980854b0",
			"name": "albany table",
			"price": 309,
			"company": "liddy",
			"__v": 0
		}
	],
	"totalProducts": 2
}
```

- Route: `/api/v1/products/:id`
- Method: `GET`

**RESPONSE**

```

json
{
  "product":
	        {
            "featured": false,
            "rating": 5,
            "createdAt": "2023-01-11T20:38:06.535Z",
            "_id": "63bf1e904d275725e8f706f8",
            "name": "albany sectional",
            "price": 109,
            "company": "liddy",
            "__v": 0
          },
  }
```

 ### GET PRODUCTS USING DIFFERENT QUERIES

- Route: `/api/v1/products/?`
- Method: `GET`
- Query params:

  #### SEARCH FIELD

  - name - `/api/v1/products?name=albany table`
  - featured (default: false) - `/api/v1/products?featured=true`
  - company - `/api/v1/products?company=ikea`

  ### SORTING

  Sorting in ascending or descending order:

  ##### Ascending

  - Sort - `/api/v1/products?sort=price,rating,createdAt`

  ##### Descending

  - Sort - `/api/v1/products?sort=-price,-rating,-createdAt`

  #### PAGINATION

  - page (default: 1) - `/api/v1/products?page=2`
  - per_page (default: 10) - `/api/home/blog?limit=20`
  - tags - `/api/home/blog?tag=the blog tag`

  #### FILTER RESPONSE

  - `/api/v1/products/?fields=name,featured,rating

- **Response:**

200 Success

```json
[
	{
		"_id": "6364a3f0d6f21227e234a921",
		"name": "albany table",
		"rating": 4.5,
		"featured": true
	}
]
```
